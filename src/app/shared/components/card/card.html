<div class="col-12" id="card">
  <div class="card-content">
    <p>
      <strong>Tema:</strong><br />
      {{ data().tema }} <br /><br />
      <strong>Habilidades Desenvolvidas:</strong><br />
      @for (habilidade of data().habilidades; track $index) {
        <span>{{ habilidade }}</span><br/>
      }
      <br />
      <strong>Descrição detalhada da atividade:</strong><br />
      {{ data().descricao }}
    </p>
  </div>

  <div class="card-carousel">
    @if (data().imagens.length > 0) {
      <div class="carousel-wrapper">
        <div class="carousel-slides">
          @for (imagem of data().imagens; track $index) {
            <div class="carousel-item" [class.active]="$index === currentIndex()">
              <img 
                [src]="imagem" 
                [alt]="'Imagem ' + ($index + 1) + ' do trabalho ' + data().tema"
                (click)="zoomIn(imagem)" 
              />
            </div>
          }
        </div>

        @if (data().imagens.length > 1) {
          <div class="carousel-indicators">
            @for (imagem of data().imagens; track $index) {
              <button
                type="button"
                class="indicator"
                [class.active]="$index === currentIndex()"
                (click)="goTo($index)"
                [attr.aria-label]="'Slide ' + ($index + 1)">
              </button>
            }
          </div>
          <button type="button" class="carousel-control prev" (click)="prev()">
            <span class="control-icon">&lt;</span>
            <span class="sr-only">Previous</span>
          </button>
          <button type="button" class="carousel-control next" (click)="next()">
            <span class="control-icon">&gt;</span>
            <span class="sr-only">Next</span>
          </button>
        }
      </div>
    }
  </div>
</div>

@if (zoomedImageUrl(); as imageUrl) {
  <div class="image-zoom-overlay" (click)="zoomOut()">
    <button class="close-zoom-button" (click)="zoomOut()" aria-label="Fechar imagem">&times;</button>
    <div class="image-zoom-content">
      <img [src]="imageUrl" alt="Imagem ampliada do trabalho {{ data().tema }}" (click)="$event.stopPropagation()" />
    </div>
  </div>
}