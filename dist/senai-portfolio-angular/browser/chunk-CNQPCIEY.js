import{f as J,j as K,l as Q}from"./chunk-X7ISS43R.js";import{$a as N,G as w,Ha as S,Ia as m,Ja as u,K as z,Ka as T,La as _,Ma as C,Na as L,O as f,Oa as M,Pa as E,Qa as H,Ra as l,Sa as d,Ta as s,Ua as v,V as A,Wa as r,X as B,Xa as c,Ya as k,Za as j,_a as V,bb as P,cb as U,fb as $,gb as F,hb as G,j as q,jb as x,m as b,ma as g,oa as a,q as y,w as R,wa as h}from"./chunk-E4K5ASLY.js";function O(e,n){let t=n?.injector??f(A),i=new q(1),o=G(()=>{let p;try{p=e()}catch(Y){$(()=>i.error(Y));return}$(()=>i.next(p))},{injector:t,manualCleanup:!0});return t.get(B).onDestroy(()=>{o.destroy(),i.complete()}),i.asObservable()}var D=class e{http=f(K);getCards(n,t){let i=`assets/data/${n}.json`;return this.http.get(i).pipe(y(o=>o[t]||[]),R(o=>(console.error(`Falha ao carregar os dados de '${i}':`,o),b([]))))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})};function ee(e,n){if(e&1&&(l(0,"span"),c(1),d(),s(2,"br")),e&2){let t=n.$implicit;a(),k(t)}}function te(e,n){if(e&1&&(l(0,"a",3),s(1,"img",4),d()),e&2){let t=r(3);v("href",t.data().link,g),S("aria-label","Abrir trabalho: "+t.data().tema),a(),v("alt",N("Imagem do trabalho ",t.data().tema))("src",t.data().imagens[0],g)}}function ne(e,n){if(e&1&&s(0,"img",4),e&2){let t=r(3);v("alt",N("Imagem do trabalho ",t.data().tema))("src",t.data().imagens[0],g)}}function ie(e,n){if(e&1&&m(0,te,2,5,"a",3)(1,ne,1,3,"img",4),e&2){let t=r(2);u(t.data().link?0:1)}}function ae(e,n){if(e&1&&(l(0,"a",3),s(1,"img",6),d()),e&2){let t=r(),i=t.$implicit,o=t.$index,p=r(3);v("href",p.data().link,g),S("aria-label","Abrir trabalho: "+p.data().tema+" - Imagem "+(o+1)),a(),v("src",i,g)("alt","Imagem "+(o+1)+" do trabalho "+p.data().tema)}}function re(e,n){if(e&1&&s(0,"img",6),e&2){let t=r(),i=t.$implicit,o=t.$index,p=r(3);v("src",i,g)("alt","Imagem "+(o+1)+" do trabalho "+p.data().tema)}}function oe(e,n){if(e&1&&(l(0,"swiper-slide"),m(1,ae,2,4,"a",3)(2,re,1,2,"img",6),d()),e&2){let t=r(3);a(),u(t.data().link?1:2)}}function de(e,n){if(e&1&&(l(0,"div",2)(1,"swiper-container",5),_(2,oe,3,1,"swiper-slide",null,T),d()()),e&2){let t=r(2);a(2),C(t.data().imagens)}}function se(e,n){if(e&1&&(m(0,ie,2,1),m(1,de,4,0,"div",2)),e&2){let t=r();u(t.data().imagens.length===1?0:-1),a(),u(t.data().imagens.length>1?1:-1)}}var I=class e{data=x.required();static \u0275fac=function(t){return new(t||e)};static \u0275cmp=h({type:e,selectors:[["app-card"]],inputs:{data:[1,"data"]},decls:22,vars:4,consts:[["id","card",1,"col-12"],[1,"card",2,"margin-left","10px"],[1,"carousel-wrapper"],["target","_blank",3,"href"],["loading","lazy","decoding","async",1,"image-single",3,"src","alt"],["slides-per-view","1","speed","600","loop","true","autoplay-delay","3500","autoplay-disable-on-interaction","false","pagination","true","pagination-clickable","true","navigation","true","effect","coverflow","coverflow-effect-rotate","30","coverflow-effect-stretch","0","coverflow-effect-depth","120","coverflow-effect-modifier","1","coverflow-effect-slide-shadows","true","a11y","true",1,"hero-swiper"],["loading","lazy","decoding","async",2,"display","block","width","100%","height","auto","border-radius","1.25em",3,"src","alt"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"p")(2,"strong"),c(3,"Tema:"),d(),s(4,"br"),c(5),s(6,"br")(7,"br"),l(8,"strong"),c(9,"Habilidades Desenvolvidas:"),d(),s(10,"br"),_(11,ee,3,1,null,null,T),s(13,"br"),l(14,"strong"),c(15,"Descri\xE7\xE3o detalhada da atividade:"),d(),s(16,"br"),c(17),d(),l(18,"div",1)(19,"h3"),c(20),d(),m(21,se,2,2),d()()),t&2&&(a(5),j(" ",i.data().tema," "),a(6),C(i.data().habilidades),a(6),j(" ",i.data().descricao," "),a(3),k(i.data().tema),a(),u(i.data().imagens.length>0?21:-1))},encapsulation:2,changeDetection:0})};var ce=(e,n)=>n.id;function le(e,n){if(e&1&&c(0),e&2){let t=r(2);V(" Projetos ",n," - ",t.trimestreNum(),"\xB0 Trimestre ")}}function me(e,n){if(e&1&&H(0,"app-card",4),e&2){let t=n.$implicit;L("data",t)}}function ue(e,n){e&1&&(M(0,"p",5),c(1," Nenhum trabalho encontrado para este trimestre. "),E())}function pe(e,n){if(e&1&&(M(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),m(4,le,1,2),P(5,"async"),E()(),_(6,me,1,1,"app-card",4,ce,!1,ue,2,0,"p",5),P(9,"async"),E()()),e&2){let t,i=r();a(4),u((t=U(5,2,i.materiaNome$))?4:-1,t),a(2),C(U(9,4,i.cards$))}}var X=class e{materiaId=x();trimestreNum=x();cardService=f(D);databaseService=f(Q);params=F(()=>({materiaId:this.materiaId(),trimestreNum:this.trimestreNum()}));cards$=O(this.params).pipe(w(n=>!n.materiaId||!n.trimestreNum?b([]):this.cardService.getCards(n.materiaId,n.trimestreNum)));materiaNome$=O(this.materiaId).pipe(w(n=>n?this.databaseService.getMaterias().pipe(y(t=>t.find(i=>i.id===n)?.nome||"Mat\xE9ria")):b("Carregando...")));static \u0275fac=function(t){return new(t||e)};static \u0275cmp=h({type:e,selectors:[["app-trimestre-page"]],inputs:{materiaId:[1,"materiaId"],trimestreNum:[1,"trimestreNum"]},decls:1,vars:1,consts:[["id","projetos",1,"projetos"],[1,"row"],[1,"col-12"],[1,"section-title"],[3,"data"],[2,"text-align","center","width","100%"]],template:function(t,i){if(t&1&&m(0,pe,10,6,"section",0),t&2){let o;u((o=i.materiaId())?0:-1,o)}},dependencies:[I,J],encapsulation:2,changeDetection:0})};export{X as TrimestrePage};
